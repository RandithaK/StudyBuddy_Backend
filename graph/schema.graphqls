type User {
  id: ID!
  name: String!
  email: String!
  isVerified: Boolean!
}

type AuthPayload {
  token: String!
  user: User!
}

type Course {
  id: ID!
  name: String!
  color: String!
  totalTasks: Int!
  completedTasks: Int!
}

type Task {
  id: ID!
  title: String!
  description: String!
  courseId: String!
  course: Course
  dueDate: String!
  dueTime: String!
  completed: Boolean!
  hasReminder: Boolean!
  completedAt: String
}

type Event {
  id: ID!
  title: String!
  description: String
  courseId: String!
  course: Course
  date: String!
  startTime: String!
  endTime: String!
  type: String!
}

input RegisterInput {
  name: String!
  email: String!
  password: String!
}

input LoginInput {
  email: String!
  password: String!
}

input NewCourseInput {
  name: String!
  color: String!
}

input NewTaskInput {
  title: String!
  description: String!
  courseId: String!
  dueDate: String!
  dueTime: String!
  hasReminder: Boolean!
}

input UpdateTaskInput {
  id: ID!
  title: String
  description: String
  courseId: String
  dueDate: String
  dueTime: String
  completed: Boolean
  hasReminder: Boolean
  completedAt: String
}

input NewEventInput {
  title: String!
  description: String
  courseId: String
  date: String!
  startTime: String!
  endTime: String!
  type: String!
}

type Query {
  me: User!
  tasks: [Task!]!
  courses: [Course!]!
  events: [Event!]!
  getTask(id: ID!): Task
  getCourse(id: ID!): Course
  notifications: [Notification!]!
}

type Mutation {
  register(input: RegisterInput!): AuthPayload!
  login(input: LoginInput!): AuthPayload!
  
  createCourse(input: NewCourseInput!): Course!
  
  createTask(input: NewTaskInput!): Task!
  updateTask(input: UpdateTaskInput!): Task!
  deleteTask(id: ID!): Boolean!
  
  createEvent(input: NewEventInput!): Event!
  deleteEvent(id: ID!): Boolean!

  updateUser(input: UpdateUserInput!): User!
  changePassword(input: ChangePasswordInput!): ChangePasswordPayload!
  
  markNotificationAsRead(id: ID!): Boolean!
}

type Notification {
  id: ID!
  userId: String!
  message: String!
  type: String!
  referenceId: String!
  read: Boolean!
  createdAt: String!
}

input UpdateUserInput {
  name: String
  email: String
}

input ChangePasswordInput {
  currentPassword: String!
  newPassword: String!
}

type ChangePasswordPayload {
  success: Boolean!
  message: String!
}
